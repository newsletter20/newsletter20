{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IM-BITCH\\\\Documents\\\\Programming Projects\\\\react please\\\\morepizza\\\\src\\\\components\\\\ButtonsField.js\";\nimport React, { useState, useRef } from 'react';\nimport MoreButton from './MoreButton.js';\n\nfunction ButtonsField(_ref) {\n  let {\n    onMore\n  } = _ref;\n  const [poses, setPoses] = useState([[50, 50, \"#ffffff\"]]);\n  const divRef = useRef();\n\n  const rndPercent = () => {\n    return Math.random() * 100;\n  };\n\n  const moreClick = cPos => {\n    //Change poses around clicked pos\n    poses.forEach(function (pos, i) {\n      if (pos !== cPos && pos !== null) {\n        let isTouching = false;\n        const din = getRandomInt(1, 6);\n        const h = 50 * din / divRef.current.offsetHeight * 100;\n        const w = 100 * din / divRef.current.offsetWidth * 100;\n        const hA = 50 / divRef.current.offsetHeight * 100;\n        const wA = 100 / divRef.current.offsetWidth * 100;\n        const leftGap = cPos[1] - (pos[1] + w);\n        const rightGap = pos[1] - (cPos[1] + w);\n        const topGap = cPos[0] - (pos[0] + h);\n        const bottomGap = pos[0] - (cPos[0] + h);\n        if (leftGap < 0 && rightGap < 0 && topGap < 0 && bottomGap < 0) isTouching = true;\n        let d = 0.4;\n        let a = 3;\n\n        if (isTouching) {\n          if (leftGap >= rightGap) pos[1] += leftGap * d - a;else pos[1] -= rightGap * d - a;\n          if (topGap >= bottomGap) pos[0] += topGap * d - a;else pos[0] -= bottomGap * d - a; //cPos[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16)\n\n          pos[2] = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n        } else {\n          if (pos[0] > 100 + hA || pos[0] < -hA || pos[1] > 100 + wA || pos[1] < -wA) poses[i] = null;\n        }\n      }\n    }); //Call component onMore event\n\n    onMore(); //Push new MoreButton\n\n    let newButtonPos = [];\n\n    for (let i = 0; i < getRandomInt(1, 1); i++) {\n      newButtonPos.push([rndPercent(), rndPercent(), \"#ffffff\"]);\n    }\n\n    setPoses([...poses, ...newButtonPos]);\n  };\n\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ButtonsField\",\n    ref: divRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, poses.map(p => p == null ? true : /*#__PURE__*/React.createElement(MoreButton, {\n    pos: p,\n    onClick: () => moreClick(p),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 48\n    }\n  })));\n}\n\nexport default ButtonsField;","map":{"version":3,"sources":["C:/Users/IM-BITCH/Documents/Programming Projects/react please/morepizza/src/components/ButtonsField.js"],"names":["React","useState","useRef","MoreButton","ButtonsField","onMore","poses","setPoses","divRef","rndPercent","Math","random","moreClick","cPos","forEach","pos","i","isTouching","din","getRandomInt","h","current","offsetHeight","w","offsetWidth","hA","wA","leftGap","rightGap","topGap","bottomGap","d","a","floor","toString","newButtonPos","push","min","max","ceil","map","p"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,MAAzB,QAAsC,OAAtC;AACA,OAAOC,UAAP,MAAuB,iBAAvB;;AAEA,SAASC,YAAT,OAAgC;AAAA,MAAV;AAACC,IAAAA;AAAD,GAAU;AAE5B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,CAAC,CAAC,EAAD,EAAI,EAAJ,EAAO,SAAP,CAAD,CAAD,CAAlC;AAEA,QAAMO,MAAM,GAAGN,MAAM,EAArB;;AAEA,QAAMO,UAAU,GAAG,MAAM;AAAE,WAAOC,IAAI,CAACC,MAAL,KAAiB,GAAxB;AAA8B,GAAzD;;AAEA,QAAMC,SAAS,GAAEC,IAAD,IAAS;AAGrB;AACAP,IAAAA,KAAK,CAACQ,OAAN,CAAc,UAASC,GAAT,EAAcC,CAAd,EAAiB;AAE3B,UAAID,GAAG,KAAKF,IAAR,IAAgBE,GAAG,KAAK,IAA5B,EAAkC;AAC9B,YAAIE,UAAU,GAAG,KAAjB;AACA,cAAMC,GAAG,GAAGC,YAAY,CAAC,CAAD,EAAG,CAAH,CAAxB;AACA,cAAMC,CAAC,GAAG,KAAGF,GAAH,GAASV,MAAM,CAACa,OAAP,CAAeC,YAAxB,GAAuC,GAAjD;AACA,cAAMC,CAAC,GAAG,MAAIL,GAAJ,GAAUV,MAAM,CAACa,OAAP,CAAeG,WAAzB,GAAuC,GAAjD;AACA,cAAMC,EAAE,GAAG,KAAKjB,MAAM,CAACa,OAAP,CAAeC,YAApB,GAAmC,GAA9C;AACA,cAAMI,EAAE,GAAG,MAAMlB,MAAM,CAACa,OAAP,CAAeG,WAArB,GAAmC,GAA9C;AAEA,cAAMG,OAAO,GAAKd,IAAI,CAAC,CAAD,CAAL,IAAWE,GAAG,CAAC,CAAD,CAAH,GAASQ,CAApB,CAAjB;AACA,cAAMK,QAAQ,GAAIb,GAAG,CAAC,CAAD,CAAJ,IAAYF,IAAI,CAAC,CAAD,CAAJ,GAAUU,CAAtB,CAAjB;AACA,cAAMM,MAAM,GAAIhB,IAAI,CAAC,CAAD,CAAL,IAAWE,GAAG,CAAC,CAAD,CAAH,GAASK,CAApB,CAAf;AACA,cAAMU,SAAS,GAAIf,GAAG,CAAC,CAAD,CAAJ,IAAYF,IAAI,CAAC,CAAD,CAAJ,GAAWO,CAAvB,CAAlB;AAEI,YAAIO,OAAO,GAAG,CAAV,IACAC,QAAQ,GAAG,CADX,IAEAC,MAAM,GAAG,CAFT,IAGAC,SAAS,GAAG,CAHhB,EAIIb,UAAU,GAAG,IAAb;AAER,YAAIc,CAAC,GAAG,GAAR;AACA,YAAIC,CAAC,GAAG,CAAR;;AAEA,YAAIf,UAAJ,EACA;AACI,cAAIU,OAAO,IAAIC,QAAf,EACIb,GAAG,CAAC,CAAD,CAAH,IAAUY,OAAO,GAACI,CAAR,GAAUC,CAApB,CADJ,KAGIjB,GAAG,CAAC,CAAD,CAAH,IAAUa,QAAQ,GAACG,CAAT,GAAWC,CAArB;AAEJ,cAAIH,MAAM,IAAIC,SAAd,EACIf,GAAG,CAAC,CAAD,CAAH,IAAUc,MAAM,GAACE,CAAP,GAASC,CAAnB,CADJ,KAGIjB,GAAG,CAAC,CAAD,CAAH,IAAUe,SAAS,GAACC,CAAV,GAAYC,CAAtB,CATR,CAWI;;AACAjB,UAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,MAAML,IAAI,CAACuB,KAAL,CAAWvB,IAAI,CAACC,MAAL,KAAc,QAAzB,EAAmCuB,QAAnC,CAA4C,EAA5C,CAAf;AACH,SAdD,MAgBA;AACI,cAAInB,GAAG,CAAC,CAAD,CAAH,GAAO,MAAIU,EAAX,IAAiBV,GAAG,CAAC,CAAD,CAAH,GAAO,CAACU,EAAzB,IAA+BV,GAAG,CAAC,CAAD,CAAH,GAAO,MAAIW,EAA1C,IAAgDX,GAAG,CAAC,CAAD,CAAH,GAAO,CAACW,EAA5D,EACApB,KAAK,CAACU,CAAD,CAAL,GAAW,IAAX;AACH;AAGJ;AACJ,KA/CD,EAJqB,CAqDrB;;AACAX,IAAAA,MAAM,GAtDe,CAwDrB;;AACA,QAAI8B,YAAY,GAAG,EAAnB;;AACA,SAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAACG,YAAY,CAAC,CAAD,EAAG,CAAH,CAA9B,EAAoCH,CAAC,EAArC,EACA;AACImB,MAAAA,YAAY,CAACC,IAAb,CAAkB,CAAC3B,UAAU,EAAX,EAAcA,UAAU,EAAxB,EAA2B,SAA3B,CAAlB;AACH;;AACDF,IAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAU,GAAG6B,YAAb,CAAD,CAAR;AACH,GA/DD;;AAiEA,WAAShB,YAAT,CAAsBkB,GAAtB,EAA2BC,GAA3B,EAAgC;AAC5BD,IAAAA,GAAG,GAAG3B,IAAI,CAAC6B,IAAL,CAAUF,GAAV,CAAN;AACAC,IAAAA,GAAG,GAAG5B,IAAI,CAACuB,KAAL,CAAWK,GAAX,CAAN;AACA,WAAO5B,IAAI,CAACuB,KAAL,CAAWvB,IAAI,CAACC,MAAL,MAAiB2B,GAAG,GAAGD,GAAvB,IAA8BA,GAAzC,CAAP,CAH4B,CAG0B;AACvD;;AAEH,sBACI;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,GAAG,EAAE7B,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,KAAK,CAACkC,GAAN,CAAUC,CAAC,IAAIA,CAAC,IAAI,IAAL,GAAY,IAAZ,gBAAmB,oBAAC,UAAD;AAAY,IAAA,GAAG,EAAEA,CAAjB;AAAoB,IAAA,OAAO,EAAE,MAAM7B,SAAS,CAAC6B,CAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlC,CADL,CADJ;AAMH;;AAED,eAAerC,YAAf","sourcesContent":["import React, {useState, useRef} from 'react'\r\nimport MoreButton from './MoreButton.js';\r\n\r\nfunction ButtonsField({onMore}) {\r\n    \r\n    const [poses, setPoses] = useState([[50,50,\"#ffffff\"]]);\r\n    \r\n    const divRef = useRef();  \r\n\r\n    const rndPercent = () => { return Math.random() * (100) }\r\n    \r\n    const moreClick=(cPos)=> {\r\n    \r\n\r\n        //Change poses around clicked pos\r\n        poses.forEach(function(pos, i) {\r\n            \r\n            if (pos !== cPos && pos !== null) {\r\n                let isTouching = false;\r\n                const din = getRandomInt(1,6)\r\n                const h = 50*din / divRef.current.offsetHeight * 100\r\n                const w = 100*din / divRef.current.offsetWidth * 100\r\n                const hA = 50 / divRef.current.offsetHeight * 100\r\n                const wA = 100 / divRef.current.offsetWidth * 100\r\n\r\n                const leftGap =  (cPos[1])-(pos[1] + w)\r\n                const rightGap = (pos[1]) - (cPos[1] + w)\r\n                const topGap = (cPos[0])-(pos[0] + h) \r\n                const bottomGap = (pos[0]) - (cPos[0]  + h)\r\n\r\n                    if (leftGap < 0 &&\r\n                        rightGap < 0 &&\r\n                        topGap < 0 &&\r\n                        bottomGap < 0)\r\n                        isTouching = true;\r\n\r\n                let d = 0.4\r\n                let a = 3\r\n\r\n                if (isTouching)\r\n                {\r\n                    if (leftGap >= rightGap)\r\n                        pos[1] += leftGap*d-a;\r\n                    else\r\n                        pos[1] -= rightGap*d-a;\r\n\r\n                    if (topGap >= bottomGap)\r\n                        pos[0] += topGap*d-a;\r\n                    else\r\n                        pos[0] -= bottomGap*d-a;\r\n\r\n                    //cPos[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16)\r\n                    pos[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16) \r\n                }\r\n                else\r\n                {\r\n                    if (pos[0]>100+hA || pos[0]<-hA || pos[1]>100+wA || pos[1]<-wA) \r\n                    poses[i] = null;    \r\n                }\r\n\r\n                \r\n            }\r\n        })\r\n\r\n        //Call component onMore event\r\n        onMore()\r\n\r\n        //Push new MoreButton\r\n        let newButtonPos = []\r\n        for (let i = 0; i<getRandomInt(1,1);i++)\r\n        {\r\n            newButtonPos.push([rndPercent(),rndPercent(),\"#ffffff\"])     \r\n        }\r\n        setPoses([...poses,...newButtonPos])\r\n    }\r\n\r\n    function getRandomInt(min, max) {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n        return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n      }\r\n  \r\n    return (\r\n        <div className=\"ButtonsField\" ref={divRef} >\r\n            {poses.map(p => p == null ? true : <MoreButton pos={p} onClick={() => moreClick(p)}/>)}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonsField\r\n"]},"metadata":{},"sourceType":"module"}