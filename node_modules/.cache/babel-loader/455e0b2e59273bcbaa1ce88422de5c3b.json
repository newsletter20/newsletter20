{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IM-BITCH\\\\Documents\\\\Programming Projects\\\\react please\\\\morepizza\\\\src\\\\components\\\\ButtonsField.js\";\nimport React, { useState, useRef } from 'react';\nimport MoreButton from './MoreButton.js';\n\nfunction ButtonsField(_ref) {\n  let {\n    onMore\n  } = _ref;\n  const [poses, setPoses] = useState([[50, 50, \"#ffffff\"]]);\n  const divRef = useRef();\n\n  const rndPercent = () => {\n    return Math.random() * 100;\n  };\n\n  function moreClick(cPos) {\n    //Change poses touching clicked pos\n    poses.forEach(function (p, i) {\n      if (p !== cPos) {\n        let isTouching = false;\n        const din = getRandomInt(1, 6);\n        const h = 50 * din / divRef.current.offsetHeight * 100;\n        const w = 100 * din / divRef.current.offsetWidth * 100;\n        const hA = 50 / divRef.current.offsetHeight * 100;\n        const wA = 100 / divRef.current.offsetWidth * 100;\n        const leftGap = cPos[1] - (p[1] + w);\n        const rightGap = p[1] - (cPos[1] + w);\n        const topGap = cPos[0] - (p[0] + h);\n        const bottomGap = p[0] - (cPos[0] + h);\n        if (leftGap < 0 && rightGap < 0 && topGap < 0 && bottomGap < 0) isTouching = true;\n        let d = 0.4;\n        let a = 3;\n\n        if (isTouching) {\n          if (leftGap >= rightGap) p[1] += leftGap * d - a;else p[1] -= rightGap * d - a;\n          if (topGap >= bottomGap) p[0] += topGap * d - a;else p[0] -= bottomGap * d - a; //cPos[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16)\n\n          p[2] = \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n          if (p[0] > 100 || p[0] < -hA || p[1] > 100 || p[1] < -wA) p = null;\n        }\n      }\n    }); //Call component onMore event\n\n    onMore(); //Push new MoreButton\n\n    let newButtonPos = [];\n\n    for (let i = 0; i < getRandomInt(1, 1); i++) {\n      newButtonPos.push([rndPercent(), rndPercent(), \"#ffffff\"]);\n    }\n\n    setPoses([...poses, ...newButtonPos]);\n    cPos = null;\n  }\n\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ButtonsField\",\n    ref: divRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, poses.map(p => /*#__PURE__*/React.createElement(MoreButton, {\n    pos: p,\n    onClick: () => moreClick(p),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  })));\n}\n\nexport default ButtonsField;","map":{"version":3,"sources":["C:/Users/IM-BITCH/Documents/Programming Projects/react please/morepizza/src/components/ButtonsField.js"],"names":["React","useState","useRef","MoreButton","ButtonsField","onMore","poses","setPoses","divRef","rndPercent","Math","random","moreClick","cPos","forEach","p","i","isTouching","din","getRandomInt","h","current","offsetHeight","w","offsetWidth","hA","wA","leftGap","rightGap","topGap","bottomGap","d","a","floor","toString","newButtonPos","push","min","max","ceil","map"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react'\r\nimport MoreButton from './MoreButton.js';\r\n\r\nfunction ButtonsField({onMore}) {\r\n    \r\n    const [poses, setPoses] = useState([[50,50,\"#ffffff\"]]);\r\n    \r\n    const divRef = useRef();  \r\n\r\n    const rndPercent = () => { return Math.random() * (100) }\r\n\r\n    function moreClick(cPos) {\r\n    \r\n\r\n        //Change poses touching clicked pos\r\n        poses.forEach(function(p, i) {\r\n            if (p !== cPos) {\r\n                let isTouching = false;\r\n                const din = getRandomInt(1,6)\r\n                const h = 50*din / divRef.current.offsetHeight * 100\r\n                const w = 100*din / divRef.current.offsetWidth * 100\r\n                const hA = 50 / divRef.current.offsetHeight * 100\r\n                const wA = 100 / divRef.current.offsetWidth * 100\r\n\r\n                const leftGap =  (cPos[1])-(p[1] + w)\r\n                const rightGap = (p[1]) - (cPos[1] + w)\r\n                const topGap = (cPos[0])-(p[0] + h) \r\n                const bottomGap = (p[0]) - (cPos[0]  + h)\r\n\r\n                    if (leftGap < 0 &&\r\n                        rightGap < 0 &&\r\n                        topGap < 0 &&\r\n                        bottomGap < 0)\r\n                        isTouching = true;\r\n\r\n                let d = 0.4\r\n                let a = 3\r\n\r\n                if (isTouching)\r\n                {\r\n                    if (leftGap >= rightGap)\r\n                        p[1] += leftGap*d-a;\r\n                    else\r\n                        p[1] -= rightGap*d-a;\r\n\r\n                    if (topGap >= bottomGap)\r\n                        p[0] += topGap*d-a;\r\n                    else\r\n                        p[0] -= bottomGap*d-a;\r\n\r\n                    //cPos[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16)\r\n                    p[2] = \"#\" + Math.floor(Math.random()*16777215).toString(16) \r\n                    if (p[0]>100 || p[0]<-hA || p[1]>100 || p[1]<-wA) \r\n                    p = null;\r\n                }\r\n            }\r\n        })\r\n\r\n        //Call component onMore event\r\n        onMore()\r\n\r\n        //Push new MoreButton\r\n        let newButtonPos = []\r\n        for (let i = 0; i<getRandomInt(1,1);i++)\r\n        {\r\n            newButtonPos.push([rndPercent(),rndPercent(),\"#ffffff\"])     \r\n        }\r\n        setPoses([...poses,...newButtonPos])\r\n        \r\n        cPos = null;\r\n        \r\n    }\r\n\r\n    function getRandomInt(min, max) {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n        return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n      }\r\n  \r\n    return (\r\n        <div className=\"ButtonsField\" ref={divRef} >\r\n            {poses.map(p => <MoreButton pos={p} onClick={() => moreClick(p)}/>)}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ButtonsField\r\n"]},"metadata":{},"sourceType":"module"}